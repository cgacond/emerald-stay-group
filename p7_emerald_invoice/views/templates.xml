<odoo>
    <data>

        <template id="emerald_report_invoice_document">
            <t t-call="web.external_layout">
                <t t-set="o" t-value="o.with_context(lang=lang)" />
                <t t-set="address">
                    <address t-field="o.partner_id" t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}' />
                    <div t-if="o.partner_id.vat" class="mt16"><t t-esc="o.company_id.country_id.vat_label or 'Tax ID'"/>: <span t-field="o.partner_id.vat"/></div>
                </t>
                <div class="page">
                    
                    <div class="" t-if="o.reference" name="reference">
                        <p><strong>Period:</strong> <span t-field="o.reference"/></p>
                    </div>
         
                    <div class="" t-if="o.p7_property" name="property">
                        <!-- <p><strong>Property:</strong> <span t-esc="o.get_analytic_name(o)"/></p> -->
                        <p><strong>Property: <span t-esc="o.p7_property"/></strong></p>
                    </div>

                    <div t-if="o.date_invoice" name="date_invoice">
                        <p><strong>Date:</strong> <span t-field="o.date_invoice"/></p>
                    </div>

                    <t t-set="display_discount" t-value="any([l.discount for l in o.invoice_line_ids])"/>

                    <table class="table table-sm o_main_table" name="invoice_line_table">
                        <thead>
                            <tr>
                                <t t-set="colspan" t-value="5"/>
                                <th class="text-left" width="5%"><strong>Description</strong></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th><strong>Unit</strong></th>
                               <th><strong>Tax</strong></th>
                               <th style="text-align:right;"><strong>Amount</strong></th>
                            </tr>
                        </thead>
                        <tbody class="invoice_tbody">

                            <t t-foreach="o.design_line_item(o)['one']" t-as="line">
                              
                                <tr>
                                    
                                        <td ><span t-esc="line['name']"/></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td><span t-esc="line['tax']"/></td>
                                        <td class="text-right o_price_total">
                                            <span t-esc="line['amount']" t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                                        </td>
                                   
                                </tr>
                            </t>
                            <t t-foreach="o.design_line_item(o)['label1']" t-as="line">
                              
                                <tr>
                                    <td><strong><span t-esc="line['name']"/></strong></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td class="text-right o_price_total">
                                        <strong><span t-esc="line['amount']" t-options='{"widget": "monetary", "display_currency": o.currency_id}'/></strong>
                                    </td>
                                </tr>
                            </t>
                            <t t-foreach="o.design_line_item(o)['two']" t-as="line">
                              
                                <tr>
                                    <td><span t-esc="line['name']"/></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><span t-esc="line['percentage']"/></td>
                                    <td><span t-esc="line['tax']"/></td>
                                    <td class="text-right o_price_total">
                                        <span t-esc="line['amount']" t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                                    </td>
                                </tr>
                            </t>
                            <t t-foreach="o.design_line_item(o)['label2']" t-as="line">
                              
                                <tr>
                                    <td><strong><span t-esc="line['name']"/></strong></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td class="text-right o_price_total">
                                        <strong><span t-esc="line['amount']" t-options='{"widget": "monetary", "display_currency": o.currency_id}'/></strong>
                                    </td>
                                </tr>
                            </t>

       
                         <tr>
                            <td><strong><p>Deductions (article 5 of rent agreement)</p></strong></td>
                        </tr>
                          
                            <t t-foreach="o.design_line_item(o)['three']" t-as="line">
                                <tr>
                                    
                                    <td><span t-esc="line['name']"/></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><span t-esc="line['tax']"/></td>
                                    <td class="text-right o_price_total">
                                        <span t-esc="line['amount']" t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                                    </td>
                                </tr>

                            </t>
                            <t t-foreach="o.design_line_item(o)['label4']" t-as="line">
                              
                                <tr>
                                    <t t-set="colspan" t-value="5"/>
                                    <td><strong><span t-esc="line['name']"/></strong></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td class="text-right o_price_total">
                                        <strong><span t-esc="line['amount']" t-options='{"widget": "monetary", "display_currency": o.currency_id}'/></strong>
                                    </td>
                                </tr>
                            </t>
                            <t t-foreach="o.design_line_item(o)['label5']" t-as="line">
                              
                                <tr>
                                    <t t-set="colspan" t-value="5"/>
                                    <td><span t-esc="line['name']"/> on the amount of  <span t-esc="line['into']" t-options='{"widget": "monetary", "display_currency": o.currency_id}'/></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td class="text-right o_price_total">
                                        <span t-esc="line['amount']" t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                                    </td>
                                </tr>
                            </t>
                            <t t-foreach="o.design_line_item(o)['label6']" t-as="line">
                              
                                <tr>
                                    <td><strong><span t-esc="line['name']"/></strong></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td class="text-right o_price_total">
                                        <strong><span t-esc="line['amount']" t-options='{"widget": "monetary", "display_currency": o.currency_id}'/></strong>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>


                    <table class="table table-sm o_main_table" style="border: 2px solid black;">
                        <tbody class="invoice_tbody">
                            <t t-foreach="o.design_line_item(o)['label6']" t-as="line">
                            <tr>
                                <td><strong>Total to be paid</strong></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td class="text-right o_price_total">
                                        <strong><span t-esc="line['amount']" t-options='{"widget": "monetary", "display_currency": o.currency_id}'/></strong>
                                </td>

                            </tr>
                            </t>
                        </tbody>
                    </table>


                   <strong>Detailed Description</strong>
                   <br/>
                    <p t-if="o.comment" name="comment">
                        <span t-field="o.comment"/>
                    </p>
                </div>
            </t>
        </template>



        <template id="report_invoice_emerald">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-set="lang" t-value="o.user_id.lang if o.type in ('in_invoice', 'in_refund') else o.partner_id.lang"/>
                    <t t-call="p7_emerald_invoice.emerald_report_invoice_document" t-lang="lang"/>
                </t>
            </t>
        </template>


    </data>
</odoo>